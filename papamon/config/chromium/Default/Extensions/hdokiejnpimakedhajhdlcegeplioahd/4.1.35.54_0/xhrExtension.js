(function(){var c=0;if("undefined"!==typeof CustomEvent&&"function"===typeof window.dispatchEvent){var b=function(a){try{if("object"===typeof a&&(a=JSON.stringify(a)),"string"===typeof a){var b=new CustomEvent("lprequeststart",{detail:{data:a,requestID:++c}});window.dispatchEvent(b);return c}}catch(d){}},e=function(a){try{if(a){var b=new CustomEvent("lprequestend",{detail:{requestID:a}});window.dispatchEvent(b)}}catch(d){}};"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.send&&
(XMLHttpRequest.prototype.send=function(a){return function(c){var d=b(c);this.addEventListener("loadend",function(){e(d)});return a.apply(this,arguments)}}(XMLHttpRequest.prototype.send));"function"===typeof fetch&&(fetch=function(a){return function(c,d){var h=b(d),f=function(){e(h)},g=a.apply(this,arguments);g.then(f)["catch"](f);return g}}(fetch))}})();
(function(){if("undefined"!==typeof CustomEvent){var c=function(b){return function(){try{var a=new CustomEvent("lpsubmit");this.dispatchEvent&&this.dispatchEvent(a)}catch(k){}b.apply(this,arguments)}};if(document&&document.forms&&0<document.forms.length)for(var b=0;b<document.forms.length;++b)document.forms[b].submit=c(document.forms[b].submit);document.createElement=function(b){return function(){var a=b.apply(this,arguments);"FORM"===a.nodeName&&a.submit&&(a.submit=c(a.submit));return a}}(document.createElement)}})();
